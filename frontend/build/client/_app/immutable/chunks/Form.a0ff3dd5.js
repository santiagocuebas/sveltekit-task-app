import{S as _,i as d,s as g,C as F,k as b,l as v,m as y,h as c,n as m,b as S,J as w,K as R,D as C,E as D,F as E,g as L,d as O}from"./index.de3e9b61.js";import{g as U}from"./ErrorBox.ba74f28f.js";function j(i){let t,o,r,f;const l=i[6].default,n=F(l,i,i[5],null);return{c(){t=b("form"),n&&n.c(),this.h()},l(e){t=v(e,"FORM",{action:!0,method:!0,class:!0});var a=y(t);n&&n.l(a),a.forEach(c),this.h()},h(){m(t,"action",i[0]),m(t,"method",i[1]),m(t,"class","svelte-wh5sep")},m(e,a){S(e,t,a),n&&n.m(t,null),o=!0,r||(f=w(t,"submit",R(i[2])),r=!0)},p(e,[a]){n&&n.p&&(!o||a&32)&&C(n,l,e,e[5],o?E(l,e[5],a,null):D(e[5]),null),(!o||a&1)&&m(t,"action",e[0]),(!o||a&2)&&m(t,"method",e[1])},i(e){o||(L(n,e),o=!0)},o(e){O(n,e),o=!1},d(e){e&&c(t),n&&n.d(e),r=!1,f()}}}function k(i,t,o){let{$$slots:r={},$$scope:f}=t,{action:l}=t,{method:n="POST"}=t,{change:e}=t,{errors:a}=t;async function u(){const s=await fetch(this.action,{method:this.method,credentials:"include",body:new FormData(this)}).then(h=>h.json());typeof s.userURL=="string"&&U(s.userURL),s.message!==void 0&&console.log(s.message),s.errors!==void 0&&(e(!0),a(s.errors))}return i.$$set=s=>{"action"in s&&o(0,l=s.action),"method"in s&&o(1,n=s.method),"change"in s&&o(3,e=s.change),"errors"in s&&o(4,a=s.errors),"$$scope"in s&&o(5,f=s.$$scope)},[l,n,u,e,a,f,r]}class K extends _{constructor(t){super(),d(this,t,k,j,g,{action:0,method:1,change:3,errors:4})}}export{K as F};
